{"version":3,"file":"querybuilder.min.js","sources":["../sources/locales/be.js","../sources/locales/en.js","../sources/locales/index.js","../sources/locales/de.js","../sources/locales/es.js","../sources/locales/it.js","../sources/locales/ja.js","../sources/locales/pt.js","../sources/locales/ru.js","../sources/locales/zh.js","../sources/views/querybuilderline.js","../sources/modules/sort.js","../sources/modules/filters.js","../sources/modules/sql.js","../sources/views/querybuilder.js","../sources/views/filter.js"],"sourcesContent":["const locale = {\n\tor: \"або\",\n\tand: \"і\",\n\tdelete_rule: \"Выдаліць правіла\",\n\tadd_rule: \"Дадаць правіла\",\n\tadd_group: \"Дадаць групу\",\n\tless: \"менш\",\n\tless_or_equal: \"менш або роўна\",\n\tgreater: \"больш\",\n\tgreater_or_equal: \"больш або роўна\",\n\tbetween: \"паміж\",\n\tnot_between: \"не паміж\",\n\tbegins_with: \"пачынаецца з\",\n\tnot_begins_with: \"не пачынаецца з\",\n\tcontains: \"змяшчае\",\n\tnot_contains: \"не змяшчае\",\n\tends_with: \"заканчваецца\",\n\tnot_ends_with: \"не сканчаецца\",\n\tis_empty: \"пуста\",\n\tis_not_empty: \"не пуста\",\n\tequal: \"роўныя\",\n\tnot_equal: \"не роўныя\",\n\tis_null: \"роўная нуля\",\n\tis_not_null: \"не роўная нуля\",\n\tdefault_option: \"---\",\n\tcancel: \"адмяніць\",\n\tfilter: \"фільтраваць\",\n\tsort: \"сартаваць\"\n};\n\nexport default locale;","const locale = {\n\tor: \"Or\",\n\tand: \"And\",\n\tdelete_rule: \"Delete rule\",\n\tadd_rule: \"Add rule\",\n\tadd_group: \"Add group\",\n\tless: \"less\",\n\tless_or_equal: \"less or equal\",\n\tgreater: \"greater\",\n\tgreater_or_equal: \"greater or equal\",\n\tbetween: \"between\",\n\tnot_between: \"not between\",\n\tbegins_with: \"begins with\",\n\tnot_begins_with: \"not begins with\",\n\tcontains: \"contains\",\n\tnot_contains: \"not contains\",\n\tends_with: \"ends with\",\n\tnot_ends_with: \"not ends with\",\n\tis_empty: \"is empty\",\n\tis_not_empty: \"is not empty\",\n\tequal: \"equal\",\n\tnot_equal: \"not equal\",\n\tis_null: \"is null\",\n\tis_not_null: \"is not null\",\n\tdefault_option: \"---\",\n\tcancel: \"Cancel\",\n\tfilter: \"Filter\",\n\tsort:\"Sort\",\n\tsortby: \"Sort by\",\n\tasc:\"asc\",\n\tdesc:\"desc\"\n};\n\nexport default locale;","import be from \"./be\";\nimport de from \"./de\";\nimport en from \"./en\";\nimport es from \"./es\";\nimport fr from \"./en\";\nimport it from \"./it\";\nimport ja from \"./ja\";\nimport pt from \"./pt\";\nimport ru from \"./ru\";\nimport zh from \"./zh\";\n\nfunction setLocale(name, locale){\n\tvar lang = webix.i18n.locales[name];\n\tif (lang)\n\t\tlang.querybuilder = locale;\n}\n\nsetLocale(be, \"be-BY\");\nsetLocale(de, \"de-DE\");\nsetLocale(en, \"en-US\");\nsetLocale(es, \"es-ES\");\nsetLocale(fr, \"fr-FR\");\nsetLocale(it, \"it-IT\");\nsetLocale(ja, \"ja-JP\");\nsetLocale(pt, \"pt-BR\");\nsetLocale(ru, \"ru-RU\");\nsetLocale(zh, \"zh-CN\");\n\nwebix.i18n.querybuilder = en;","/*German (Germany) locale*/\nconst locale = {\n\tor: \"oder\",\n\tand: \"und\",\n\tdelete_rule: \"Regel löschen\",\n\tadd_rule: \"Regel hinzufügen\",\n\tadd_group: \"Gruppe hinzufügen\",\n\tless: \"weniger\",\n\tless_or_equal: \"weniger oder gleich\",\n\tgreater: \"mehr\",\n\tgreater_or_equal: \"größer oder gleich\",\n\tbetween: \"zwischen\",\n\tnot_between: \"nicht zwischen\",\n\tbegins_with: \"beginnt mit\",\n\tnot_begins_with: \"nicht beginnt mit\",\n\tcontains: \"enthält\",\n\tnot_contains: \"nicht enthält\",\n\tends_with: \"endet mit\",\n\tnot_ends_with: \"nicht endet mit\",\n\tis_empty: \"ist leer\",\n\tis_not_empty: \"es ist nicht leer\",\n\tequal: \"gleich\",\n\tnot_equal: \"ungleich\",\n\tis_null: \"ist null\",\n\tis_not_null: \"es ist nicht null\",\n\tdefault_option: \"---\",\n\tcancel: \"Stornieren\",\n\tfilter: \"Filter\",\n\tsort: \"Sortieren\"\n};\n\nexport default locale;","const locale = {\n\tor: \"o\",\n\tand: \"y\",\n\tdelete_rule: \"Borrar regla\",\n\tadd_rule: \"Añadir regla\",\n\tadd_group: \"Añadir grupo\",\n\tless: \"menos\",\n\tless_or_equal: \"menor o igual\",\n\tgreater: \"mayor\",\n\tgreater_or_equal: \"mayor o igual\",\n\tbetween: \"entre\",\n\tnot_between: \"no entre\",\n\tbegins_with: \"comienza con\",\n\tnot_begins_with: \"no comienza con\",\n\tcontains: \"contiene\",\n\tnot_contains: \"not contiene\",\n\tends_with: \"termina con\",\n\tnot_ends_with: \"no termina con\",\n\tis_empty: \"está vacía\",\n\tis_not_empty: \"no está vacía\",\n\tequal: \"igual\",\n\tnot_equal: \"no es igual\",\n\tis_null: \"es nulo\",\n\tis_not_null: \"no es nulo\",\n\tdefault_option: \"---\",\n\tcancel: \"Cancelar\",\n\tfilter: \"Filtrar\",\n\tsort: \"Ordenar\"\n};\n\nexport default locale;","const locale = {\n\tor: \"o\",\n\tand: \"e\",\n\tdelete_rule: \"Elimina la regola\",\n\tadd_rule: \"Aggiungi regola\",\n\tadd_group: \"Aggiungere gruppo\",\n\tless: \"meno\",\n\tless_or_equal: \"minore o uguale\",\n\tgreater: \"maggiore\",\n\tgreater_or_equal: \"maggiore o uguale\",\n\tbetween: \"tra\",\n\tnot_between: \"non tra\",\n\tbegins_with: \"inizia con\",\n\tnot_begins_with: \"non inizia con\",\n\tcontains: \"contiene\",\n\tnot_contains: \"non contiene\",\n\tends_with: \"finisce con\",\n\tnot_ends_with: \"non termina con\",\n\tis_empty: \"è vuoto\",\n\tis_not_empty: \"non è vuota\",\n\tequal: \"uguale\",\n\tnot_equal: \"non uguale\",\n\tis_null: \"è nullo\",\n\tis_not_null: \"non è nullo\",\n\tdefault_option: \"---\",\n\tcancel: \"Annulla\",\n\tfilter: \"Filtro\",\n\tsort: \"Ordinare\"\n};\n\nexport default locale;","const locale = {\n\tor: \"または\",\n\tand: \"そして\",\n\tdelete_rule: \"ルールを削除する\",\n\tadd_rule: \"ルールを追加\",\n\tadd_group: \"グループを追加\",\n\tless: \"レス\",\n\tless_or_equal: \"以下\",\n\tgreater: \"大きいです\",\n\tgreater_or_equal: \"以上\",\n\tbetween: \"間に\",\n\tnot_between: \"いない間\",\n\tbegins_with: \"で始まります\",\n\tnot_begins_with: \"ないで始まります\",\n\tcontains: \"含まれています\",\n\tnot_contains: \"含まれていません\",\n\tends_with: \"で終わります\",\n\tnot_ends_with: \"で終わりではありません\",\n\tis_empty: \"空であります\",\n\tis_not_empty: \"それは空でありません\",\n\tequal: \"等しいです\",\n\tnot_equal: \"等しくありません\",\n\tis_null: \"ブランクである\",\n\tis_not_null: \"ブランクではない\",\n\tdefault_option: \"---\",\n\tcancel: \"キャンセル\",\n\tfilter: \"フィルタ\",\n\tsort: \"ソート\"\n};\n\nexport default locale;","const locale = {\n\tor: \"ou\",\n\tand: \"e\",\n\tdelete_rule: \"Excluir regra\",\n\tadd_rule: \"Adicionar regra\",\n\tadd_group: \"Adicionar grupo\",\n\tless: \"menos\",\n\tless_or_equal: \"menor ou igual\",\n\tgreater: \"maior\",\n\tgreater_or_equal: \"maior ou igual\",\n\tbetween: \"entre\",\n\tnot_between: \"não entre\",\n\tbegins_with: \"começa com\",\n\tnot_begins_with: \"não começa com\",\n\tcontains: \"contém\",\n\tnot_contains: \"não contém\",\n\tends_with: \"termina com\",\n\tnot_ends_with: \"não termina com\",\n\tis_empty: \"está vazia\",\n\tis_not_empty: \"não é vazia\",\n\tequal: \"igual\",\n\tnot_equal: \"não é igual\",\n\tis_null: \"é nulo\",\n\tis_not_null: \"não é nula\",\n\tdefault_option: \"---\",\n\tcancel: \"Cancelar\",\n\tfilter: \"Filtro\",\n\tsort: \"Ordenar\"\n};\n\nexport default locale;","const locale = {\n\tor: \"или\",\n\tand: \"и\",\n\tdelete_rule: \"Удалить правило\",\n\tadd_rule: \"Добавить правило\",\n\tadd_group: \"Добавить группу\",\n\tless: \"меньше\",\n\tless_or_equal: \"меньше или равно\",\n\tgreater: \"больше\",\n\tgreater_or_equal: \"больше или равно\",\n\tbetween: \"между\",\n\tnot_between: \"не между\",\n\tbegins_with: \"начинается с\",\n\tnot_begins_with: \"не начинается с\",\n\tcontains: \"содержит\",\n\tnot_contains: \"не содержит\",\n\tends_with: \"заканчиватся\",\n\tnot_ends_with: \"не заканчиватся\",\n\tis_empty: \"пусто\",\n\tis_not_empty: \"не пусто\",\n\tequal: \"равно\",\n\tnot_equal: \"не равно\",\n\tis_null: \"равно нулю\",\n\tis_not_null: \"не равно нулю\",\n\tdefault_option: \"---\",\n\tcancel: \"Отменить\",\n\tfilter: \"Фильтровать\",\n\tsort: \"Сортировать\"\n};\n\nexport default locale;","const locale = {\n\tor: \"要么\",\n\tand: \"和\",\n\tdelete_rule: \"删除规则\",\n\tadd_rule: \"添加规则\",\n\tadd_group: \"添加组\",\n\tless: \"减\",\n\tless_or_equal: \"少于或等于\",\n\tgreater: \"更大\",\n\tgreater_or_equal: \"大于或等于\",\n\tbetween: \"之间\",\n\tnot_between: \"不在之间\",\n\tbegins_with: \"开始于\",\n\tnot_begins_with: \"不开始\",\n\tcontains: \"包含\",\n\tnot_contains: \"不包含\",\n\tends_with: \"结束\",\n\tnot_ends_with: \"不是以\",\n\tis_empty: \"是空的\",\n\tis_not_empty: \"不是空的\",\n\tequal: \"等于\",\n\tnot_equal: \"不平等\",\n\tis_null: \"为空\",\n\tis_not_null: \"不为空\",\n\tdefault_option: \"---\",\n\tcancel: \"取消\",\n\tfilter: \"过滤\",\n\tsort: \"分类\"\n};\n\nexport default locale;","webix.protoUI({\n\tname: \"querybuilderline\",\n\tdefaults: {\n\t\tpadding: 0, margin: 10, borderless: true, value:{}\n\t},\n\t$init(config) {\n\t\tconst locale = webix.i18n.querybuilder;\n\n\t\tthis.$view.className += \" webix_qb_line\";\n\t\tconst keyoptions = [\n\t\t\t...config.fields\n\t\t];\n\n\t\tconst elements = [\n\t\t\tthis._selectConfig(config, \"webix_qb_value_select\", \"key\", keyoptions),\n\t\t\tthis._selectConfig(config, \"webix_qb_rule_select\", \"rule\", { body:{ data:[], template:\"#name#\"}}, true),\n\t\t\t{view:\"button\", type:\"htmlbutton\", css:\"webix_qb_close\", width:26, inputWidth:26, name:\"close\",\n\t\t\t\tlabel: `<span class=\"webix_icon wxi-trash\" title=\"${locale.delete_rule}\"></span>`, click:() => {\n\t\t\t\t\tthis._getParentQuery()._deleteRow(this);\n\t\t\t\t}\n\t\t\t}\n\t\t];\n\n\t\tif (config.columnMode){\n\t\t\tconfig.css = (config.css || \"\") + \" webix_column_qb\";\n\t\t\tconfig.margin = config.margin || 0;\n\t\t\tconfig.rows = elements;\n\t\t} else {\n\t\t\telements.push({gravity: 0.001});\n\t\t\tconfig.cols = elements;\n\t\t}\n\n\t},\n\t_selectConfig(config, css, name, options, hidden){\n\t\tconst select = {\n\t\t\tview: \"richselect\",\n\t\t\tminWidth:100,\n\t\t\tmaxWidth: config.inputMaxWidth,\n\t\t\tinputPadding: 0,\n\t\t\toptions,\n\t\t\thidden,\n\t\t\tcss,\n\t\t\tname,\n\t\t\ton:{\n\t\t\t\tonChange: () => this._onChange(name)\n\t\t\t}\n\t\t};\n\n\t\treturn select;\n\t},\n\t_inputConfig(config, type, value, hidden){\n\t\tlet input;\n\t\tif (typeof type === \"string\"){\n\t\t\tinput = {\n\t\t\t\tview:type\n\t\t\t};\n\t\t} else {\n\t\t\tinput = type;\n\t\t}\n\n\t\tinput.name=\"value\";\n\t\tinput.maxWidth=config.inputMaxWidth;\n\t\tinput.value=value;\n\t\tinput.on = {\n\t\t\tonChange: () => this._onChange(\"value\")\n\t\t};\n\t\tinput.hidden= hidden;\n\n\t\tif (type === \"rangeslider\"){\n\t\t\tinput.min = 0;\n\t\t\tinput.max = 100;\n\t\t\tinput.value = [0, 100];\n\t\t\tinput.moveTitle = false;\n\t\t\tinput.title = obj => {\n\t\t\t\tconst v = obj.value;\n\t\t\t\treturn (v[0] === v[1] ? v[0] : v[0] + \" - \" + v[1]);\n\t\t\t};\n\t\t}\n\n\t\treturn input;\n\t},\n\tgetValue() {\n\t\tvar state = this.config.value;\n\t\tif (state.rule && (\n\t\t\tstate.value !== \"\" ||\n\t\t\tstate.rule === \"equal\" ||\n\t\t\tstate.rule === \"not_equal\" ||\n\t\t\t!this.elements.value\n\t\t))\n\t\t\treturn this.config.value;\n\t\treturn null;\n\t},\n\tsetValue(value) {\n\t\tthis.config.value = value;\n\t\tthis._silent = true;\n\n\t\tif (value && value.key){\n\t\t\tthis.elements.key.setValue(value.key);\n\t\t\tif (value.rule){\n\t\t\t\tthis.elements.rule.setValue(value.rule);\n\t\t\t\tif (value.value)\n\t\t\t\t\tthis.elements.value.setValue(value.value);\n\t\t\t}\n\t\t}\n\t\tthis._silent = false;\n\t},\n\t_onChange(key) {\n\t\tvar select = this.elements[key];\n\t\tvar value = this.config.value;\n\n\t\tvalue[key] = select.getValue();\n\t\tthis._adjustVisible(key, value);\n\n\t\tif (!this._silent){\n\t\t\tthis._getTopQuery().callEvent(\"onChange\", [this]);\n\t\t\tthis._getTopQuery().callEvent(\"onKeySelect\", [this]);\n\t\t}\n\t},\n\t_adjustVisible(type, data){\n\t\tconst field = this.elements.key.getList().getItem(data.key);\n\t\tconst rule = this.elements.rule;\n\t\tlet value = this.elements.value;\n\n\t\tif (type === \"key\"){\n\t\t\tthis._updateRuleField(data, field, rule, value);\n\t\t} else if (type === \"rule\"){\n\t\t\tthis._updateValueField(data, field, rule, value);\n\t\t}\n\t},\n\t_fillRules(field, rule){\n\t\tconst filters = this.config.filters;\n\t\tfilters.filter(a => {\n\t\t\treturn a.type[field.type] || a.type[\"any\"];\n\t\t});\n\t\trule.getList().data.importData(filters.data);\n\t},\n\t_updateRuleField(data, field, rule, value){\n\t\tconst oldrule = rule.getValue();\n\t\tconst filter = oldrule ? rule.getList().getItem(oldrule).type : \"\";\n\n\t\tif (!this._silent && !filter[field.type])\n\t\t\tdata.rule = data.value = \"\";\n\n\t\tif (data.key){\n\t\t\trule.show();\n\t\t\tthis._fillRules(field, rule);\n\t\t\trule.setValue(data.rule);\n\n\t\t\tthis._updateValueField(data, field, rule, this.elements.value);\n\t\t} else {\n\t\t\trule.hide();\n\t\t\tif (value)\n\t\t\t\tvalue.hide();\n\t\t}\n\t},\n\t_updateValueField(data, field, rule, value){\n\t\tif (data.rule){\n\t\t\tlet filter = rule.getList().getItem(data.rule);\n\t\t\tlet editor = filter.type[field.type] || filter.type[\"any\"];\n\t\t\t\n\t\t\tif (value && editor === value.name){\n\t\t\t\tvalue.show();\n\t\t\t\tvalue.setValue(data.value);\n\t\t\t} else {\n\t\t\t\tif (!this._silent)\n\t\t\t\t\tdata.value = \"\";\n\t\t\t\tif (value)\n\t\t\t\t\tthis.removeView(value);\n\t\t\t\tif (editor !== \"none\"){\n\t\t\t\t\tthis.addView(this._inputConfig(this.config, editor, data.value), 2);\t\t\t\t\n\t\t\t\t}\n\t\t\t}\n\t\t} else {\n\t\t\tif (!this._silent)\n\t\t\t\tdata.value = \"\";\n\t\t\tif (value)\n\t\t\t\tvalue.hide();\n\t\t}\n\t},\n\t_getParentQuery() {\n\t\treturn this.queryView({ view:\"querybuilder\" }, \"parent\");\n\t},\n\t_getTopQuery(){\n\t\treturn this._getParentQuery()._getTopQuery();\n\t},\n\tgetFilterHelper() {\n\t\tconst data = this.config.value;\n\t\tif (!this.getValue()) return null;\n\n\t\tconst filter = this.elements.rule.getList().getItem(data.rule);\n\t\treturn  obj => filter.fn(obj[data.key], data.value);\n\t}\n},  webix.ui.form, webix.EventSystem);","const sort = {\n\t_init_sorting:function(){\n\t\tif(!this.config.sorting) return;\n\n\t\tconst locale = webix.i18n.querybuilder;\n\t\tthis.$view.innerHTML = \"<div class='webix_qb_sorting'></div>\";\n\n\t\tthis._sortby = webix.ui({\n\t\t\tview:\"multiselect\",\n\t\t\tlabel:locale.sortby,\n\t\t\tcontainer:this.$view.childNodes[0],\n\t\t\tsuggest: {\n\t\t\t\tbody:{\n\t\t\t\t\tdata: this.config.fields\n\t\t\t\t}\n\t\t\t},\n\t\t\talign: \"right\",\n\t\t\twidth: 300,\n\t\t\tlabelWidth: 57,\n\t\t\ton: {\n\t\t\t\tonChange: () => {\n\t\t\t\t\tthis._callChangeMethod();\n\t\t\t\t}\n\t\t\t}\n\t\t});\n\n\t\tthis._sortorder = webix.ui(this._sortSelect = {\n\t\t\tview:\"richselect\",\n\t\t\tcontainer:this.$view.childNodes[0],\n\t\t\toptions:[{ id:\"asc\", value:locale.asc}, { id:\"desc\", value:locale.desc}],\n\t\t\tvalue:\"asc\",\n\t\t\twidth: 80,\n\t\t\ton: {\n\t\t\t\tonChange: () => {\n\t\t\t\t\tif(this._getSortingValues().sortBy) {\n\t\t\t\t\t\tthis._callChangeMethod();\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t});\n\n\t\tthis.attachEvent(\"onDestruct\", function(){\n\t\t\tthis._sortby.destructor();\n\t\t\tthis._sortorder.destructor();\n\t\t});\n\t},\n\t_getSortingValues() {\n\t\treturn { sortBy: this._sortby.getValue(), sortAs: this._sortorder.getValue() };\n\t},\n\t_setSortingValues(value) {\n\t\tif (value.fields){\n\t\t\tvar list = this._sortby.getList();\n\t\t\tlist.clearAll();\n\t\t\tlist.parse(value.fields);\n\t\t}\n\n\t\tthis._sortby.setValue(value.sortBy);\n\t\tthis._sortorder.setValue(value.sortAs);\n\t},\n\tgetSortingHelper() {\n\t\tvar state = this._getSortingValues();\n\t\tif (!state.sortBy) return null;\n\t\t\n\t\tlet values = state.sortBy.split(\",\").map(id => {\n\t\t\tvar item = this._sortby.getList().getItem(id);\n\t\t\tvar type = item.type;\n\t\t\tif (type === \"number\") type = \"int\";\n\n\t\t\treturn { \n\t\t\t\tby: function(obj){ return obj[id]; },\n\t\t\t\tas: webix.DataStore.prototype.sorting.as[type]\n\t\t\t};\n\t\t});\n\t\t\n\t\treturn function(obj1, obj2){\n\t\t\tvar order;\n\t\t\tfor (var i=0; i<values.length; i++){\n\t\t\t\tvar sorter = values[i];\n\t\t\t\tvar a = sorter.by(obj1);\n\t\t\t\tvar b = sorter.by(obj2);\n\t\t\t\torder = sorter.as(a, b);\n\t\t\t\tif (order !== 0) break;\n\t\t\t}\n\n\t\t\treturn order * ((state.sortAs === \"asc\") ? 1 : -1);\n\t\t};\n\t}\n};\n\nexport default sort;","const locale = webix.i18n.querybuilder;\n\nconst text = { \"number\" : \"text\", \"date\" : \"datepicker\" };\nconst range = { \"number\" : \"rangeslider\", \"date\" : \"daterangepicker\" };\nconst str = { \"string\" : \"text\" };\n\nconst filters = [\n\t{id: \"less\", name:  locale.less, fn: (a, b) => a < b, type: text },\n\t{id: \"less_or_equal\", name: locale.less_or_equal, fn: (a, b) => a <= b, type: text  },\n\t{id: \"greater\", name: locale.greater, fn: (a, b) => a > b, type: text },\n\t{id: \"greater_or_equal\", name: locale.greater_or_equal, fn: (a, b) => a >= b, type: text },\n\t{id: \"between\", name: locale.between, fn: (a, b, c) => (!b || a > b) && (!c || a < c), type: range },\n\t{id: \"not_between\", name: locale.not_between, fn: (a, b, c) => (!b || a <= b) || (!c || a >= c), type: range },\n\t{id: \"begins_with\", name: locale.begins_with, fn: (a, b) => a.lastIndexOf(b, 0) === 0, type: str},\n\t{id: \"not_begins_with\", name: locale.not_begins_with, fn: (a, b) => a.lastIndexOf(b, 0) !== 0, type: str},\n\t{id: \"contains\", name: locale.contains, fn: (a, b) => a.indexOf(b) !== -1, type: str},\n\t{id: \"not_contains\", name: locale.not_contains, fn: (a, b) => b.indexOf(a) === -1, type: str},\n\t{id: \"ends_with\", name: locale.ends_with, fn: (a, b) => a.indexOf(b, a.length - b.length) !== -1, type: str},\n\t{id: \"not_ends_with\", name: locale.not_ends_with, fn: (a, b) => a.indexOf(b, a.length - b.length) === -1, type: str},\n\t{id: \"is_empty\", name: locale.is_empty, fn: (a) => a.length === 0, type: { \"string\": \"none\" }},\n\t{id: \"is_not_empty\", name: locale.is_not_empty, fn: (a) => a.length > 0, type: { \"string\": \"none\" }},\n\t{id: \"equal\", name: locale.equal, fn: (a, b) => a === b, type: { any : \"text\", \"date\" : \"datepicker\" }},\n\t{id: \"not_equal\", name: locale.not_equal, fn: (a, b) => a !== b, type: { any : \"text\", \"date\" : \"datepicker\" }},\n\t{id: \"is_null\", name: locale.is_null, fn: (a) => a === null, type: { \"any\" : \"none\" }},\n\t{id: \"is_not_null\", name: locale.is_not_null, fn: (a) => a !== null, type: { \"any\" : \"none\" }}\n];\n\nexport default filters;","const sql = {\n\t$init(){\n\t\tthis.config.sqlDateFormat = this.config.sqlDateFormat || webix.Date.dateToStr(\"%Y-%m-%d %H:%i:%s\", false);\n\t},\n\tsqlOperators: {\n\t\tequal:            { op: \"= ?\" },\n\t\tnot_equal:        { op: \"!= ?\" },\n\t\tless:             { op: \"< ?\" },\n\t\tless_or_equal:    { op: \"<= ?\" },\n\t\tgreater:          { op: \"> ?\" },\n\t\tgreater_or_equal: { op: \">= ?\" },\n\t\tbetween:          { op: \"BETWEEN ?\",      sep: \" AND \" },\n\t\tnot_between:      { op: \"NOT BETWEEN ?\",  sep: \" AND \" },\n\t\tbegins_with:      { op: \"LIKE(?)\",        mod: \"{0}%\" },\n\t\tnot_begins_with:  { op: \"NOT LIKE(?)\",    mod: \"{0}%\" },\n\t\tcontains:         { op: \"LIKE(?)\",        mod: \"%{0}%\" },\n\t\tnot_contains:     { op: \"NOT LIKE(?)\",    mod: \"%{0}%\" },\n\t\tends_with:        { op: \"LIKE(?)\",        mod: \"%{0}\" },\n\t\tnot_ends_with:    { op: \"NOT LIKE(?)\",    mod: \"%{0}\" },\n\t\tis_empty:         { op: \"= \\\"\\\"\", no_val: true },\n\t\tis_not_empty:     { op: \"!= \\\"\\\"\", no_val: true },\n\t\tis_null:          { op: \"IS NULL\", no_val: true },\n\t\tis_not_null:      { op: \"IS NOT NULL\", no_val: true }\n\t},\n\ttoSQL(config) {\n\t\tconfig = config || this.getValue();\n\t\t\n\t\tconst values = [];\n\t\tconst code = this._getSqlString(config, values, false);\n\t\tconst sql = this._placeValues(code, values);\n\t\treturn { code, sql, values };\n\t},\n\t_placeValues(code, values){\n\t\tlet index = 0;\n\t\treturn code.replace(/\\?/g, function(){\n\t\t\tconst value = values[index++];\n\t\t\tif (typeof value === \"string\")\n\t\t\t\treturn `\"${value}\"`;\n\t\t\telse\n\t\t\t\treturn value;\n\t\t});\n\t},\n\t_getSqlString(config, values, nested) {\n\t\tif(!config) {\n\t\t\treturn \"\";\n\t\t}\n\n\t\tif (config.rules && config.rules.length){\n\t\t\tlet sql = config.rules.map(a => this._getSqlString(a, values, true)).join(\" \"+config.glue.toUpperCase()+\" \");\n\t\t\tif (nested){\n\t\t\t\tsql = `( ${sql} )`;\n\t\t\t}\n\t\t\treturn sql;\n\t\t}\n\t\treturn this._convertValueToSql(config, values);\n\t},\n\t_convertValueToSql(el, values) {\n\t\tconst format = this.config.sqlDateFormat;\n\t\tconst value = el.value;\n\n\t\tvar match = this.sqlOperators[el.rule];\n\t\tif (match){\n\t\t\tlet operator = this.sqlOperators[el.rule];\n\t\t\t\n\t\t\tif(!operator.no_val) {\n\t\t\t\tif(operator.mod) {\n\t\t\t\t\tvalues.push( operator.mod.replace(\"{0}\", `${value}`) );\n\t\t\t\t} else {\n\t\t\t\t\tif(Array.isArray(value)) {\n\t\t\t\t\t\tvalues.push(value[0]);\n\t\t\t\t\t\tvalues.push(value[1]);\n\t\t\t\t\t} else if (value.start || value.end){\n\t\t\t\t\t\tvalues.push(format(value.start));\n\t\t\t\t\t\tvalues.push(format(value.end));\n\t\t\t\t\t} else if(value instanceof Date){\n\t\t\t\t\t\tvalues.push( format(value) );\n\t\t\t\t\t} else\n\t\t\t\t\t\tvalues.push(value);\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tlet glue = operator.op;\n\t\t\tif (operator.sep)\n\t\t\t\tglue = glue.replace(\"?\", `?${operator.sep}?`);\n\n\t\t\treturn `${el.key} ${glue} `;\n\t\t}\n\n\t\treturn \"\";\n\t}\n};\n\nexport default sql;","import \"./querybuilderline\";\n\nimport sort from \"../modules/sort\";\nimport filters from \"../modules/filters\";\nimport sql from \"../modules/sql\";\n\nconst qb = {\n\tname: \"querybuilder\",\n\tdefaults: {\n\t\ttype: \"space\",\n\t\tborderless: true,\n\n\t\tfields: [],\n\t\tsorting: false,\n\t\tfiltering: true,\n\t\tglue: \"and\",\n\n\t\tcolumnMode: false,\n\t\tmaxLevel: 999,\n\t\tinputMaxWidth: 210\n\t},\n\t$init(config) {\n\t\tconfig.filters = config.filters || filters;\n\t\tif (config.filters && !config.filters.add)\n\t\t\tconfig.filters = new webix.DataCollection({ data: config.filters });\n\n\t\tthis.$view.className += \" webix_qb_wrap\";\n\t\tthis.$ready.unshift(this._setLayout);\n\t},\n\t_setLayout() {\n\t\tlet levelIndicator = this.config.maxLevel > 1 ? true:false;\n\t\tconst locale = webix.i18n.querybuilder;\n\n\t\tlet cols = [{\n\t\t\t$id:\"buttons\",\n\t\t\tborderless: true,\n\t\t\ttemplate:() => {\n\t\t\t\tconst and = this.config.glue === \"and\";\n\t\t\t\treturn `\n<div class=\"webix_qb_buttons\">\n<button class=\"webix_qb_and${and?\" webix_active\":\"\"}\">${locale.and}</button>\n<button class=\"webix_qb_or ${!and?\" webix_active\":\"\"}\">${locale.or}</button>\n</div>`;\n\t\t\t},\n\t\t\tonClick:{\n\t\t\t\twebix_qb_and: () => this._updateGlue(\"and\"),\n\t\t\t\twebix_qb_or: () => this._updateGlue(\"or\")\n\t\t\t},\n\t\t\tminHeight:35,\n\t\t\twidth: 87,\n\t\t},\n\t\t{\n\t\t\t$id:\"rows\",\n\t\t\trows: [\n\t\t\t\t{\n\t\t\t\t\tborderless: true,\n\t\t\t\t\ttemplate: `\n<div class=\"webix_qb_add\">\n${levelIndicator?`<button class=\"webix_qb_add_group\">+ ${locale.add_group}</button>`:\"\"}\n<button class=\"webix_qb_add_rule\">+ ${locale.add_rule}</button>\n</div>`,\n\t\t\t\t\tonClick: {\n\t\t\t\t\t\twebix_qb_add_rule:() => this._addRule(),\n\t\t\t\t\t\twebix_qb_add_group:() => this._addGroup(true)\n\t\t\t\t\t},\n\t\t\t\t\theight: 22,\n\t\t\t\t\tminWidth: 220\n\t\t\t\t}],\n\t\t\tmargin: 5\n\t\t}];\n\n\t\tthis._init_sorting();\n\n\t\tif (this.config.filtering === false){\n\t\t\tthis.config.padding = 0;\n\t\t\tthis.cols_setter([{ height: 1}]);\n\t\t} else {\n\t\t\tthis.cols_setter(cols);\n\t\t}\n\t},\n\t_updateGlue(mode){\n\t\tthis.config.glue = mode;\n\t\tthis.queryView({$id:\"buttons\"}).refresh();\n\t\tthis._callChangeMethod();\n\t},\n\t_addRow(ui) {\n\t\tlet layout = this.queryView({$id:\"rows\"});\n\t\tlet kids = layout.getChildViews();\n\t\treturn webix.$$(layout.addView(ui, kids.length-1));\n\t},\n\t_deleteRow(el) {\n\t\tlet layout = this.queryView({$id:\"rows\"});\n\t\tlayout.removeView(el);\n\t\tthis._callChangeMethod();\n\n\t\tif (layout.getChildViews().length <= 1) {\n\t\t\tconst parent = this._getParentQuery();\n\t\t\tif (parent){\n\t\t\t\tparent._deleteRow(this.config.id);\n\t\t\t}\n\t\t}\n\t},\n\t_addRule() {\n\t\tconst line = this._addRow({\n\t\t\tview: \"querybuilderline\",\n\n\t\t\tinputMaxWidth: this.config.inputMaxWidth,\n\t\t\tfields: this.config.fields,\n\t\t\tfilters: this.config.filters,\n\n\t\t\tcolumnMode: this.config.columnMode\n\t\t});\n\n\t\treturn line;\n\t},\n\t_addGroup(withRow) {\n\t\tlet newView = this._addRow({\n\t\t\tview: \"querybuilder\",\n\n\t\t\tinputMaxWidth: this.config.inputMaxWidth,\n\t\t\tfields: this.config.fields,\n\t\t\tfiltes: this.config.filters,\n\n\t\t\tcolumnMode: this.config.columnMode,\n\t\t\tmaxLevel:this.config.maxLevel-1\n\t\t});\n\n\t\tif (withRow){\n\t\t\tnewView._addRule();\n\t\t}\n\t\treturn newView;\n\t},\n\t_getParentQuery() {\n\t\treturn  this.queryView({ view:this.config.view }, \"parent\");\n\t},\n\t_getTopQuery(){\n\t\tlet parent, now = this;\n\t\twhile((parent = now._getParentQuery())){\n\t\t\tnow = parent;\n\t\t}\n\t\treturn now;\n\t},\n\t_callChangeMethod() {\n\t\tthis._getTopQuery().callEvent(\"onChange\", []);\n\t},\n\t\n\t$getSize(dx, dy){\n\t\tif(this.config.sorting && !this.config.filtering){\n\t\t\tdy = dy+50;\n\t\t}\n\t\treturn webix.ui.layout.prototype.$getSize.call(this, dx, dy);\n\t},\n\t_setRules(rules) {\n\t\tif (rules) {\n\t\t\trules.forEach(el => {\n\t\t\t\tlet rule;\n\t\t\t\tif (!el.glue) {\n\t\t\t\t\trule = this._addRule();\n\t\t\t\t} else {\n\t\t\t\t\trule = this._addGroup();\n\t\t\t\t}\n\t\t\t\twebix.$$(rule).setValue(el);\n\t\t\t});\n\t\t}\n\t},\n\teachLine(cb){\n\t\tlet cells = this.queryView(a => !!a.getFilterHelper, \"all\");\n\t\tfor (var i=0; i<cells.length; i++) {\n\t\t\tcb(cells[i]);\n\t\t}\n\t},\n\tgetValue() {\n\t\tconst rules = [];\n\t\tthis.eachLine(a => {\n\t\t\tconst line = a.getValue();\n\t\t\tif (line)\n\t\t\t\trules.push(line);\n\t\t});\n\n\t\tif(rules.length) {\n\t\t\treturn {glue: this.config.glue, rules};\n\t\t} else {\n\t\t\treturn null;\n\t\t}\n\t},\n\tsetValue(value) {\n\t\tif (value.fields){\n\t\t\tthis.config.fields = value.fields;\n\t\t}\n\n\t\tif (value.query){\n\t\t\tvalue = value.query;\n\t\t}\n\n\t\tif (value.glue){\n\t\t\tthis.config.glue = value.glue;\n\t\t}\n\n\t\tthis.reconstruct();\n\t\tif (value.rules){\n\t\t\tthis._setRules(value.rules);\n\t\t}\n\n\t\tthis.queryView({ $id: \"buttons\" }).refresh();\n\n\t\tif (this.config.sorting){\n\t\t\tthis._setSortingValues(value);\n\t\t}\n\n\t\tthis._callChangeMethod();\n\t},\n\tfocus() {\n\t\tconst line = this.queryView({ view:\"querybuilderline\" });\n\t\tif (line) line.focus();\n\t},\n\n\tgetFilterHelper() {\n\t\tlet childsArr = [];\n\t\tlet glue = this.config.glue;\n\n\t\tthis.eachLine(a => {\n\t\t\tvar sub = a.getFilterHelper();\n\t\t\tif (sub)\n\t\t\t\tchildsArr.push(sub);\n\t\t});\n\n\t\tif(!childsArr.length)\n\t\t\treturn () => true;\n\n\t\treturn obj => {\n\t\t\tlet result;\n\t\t\tif (glue === \"and\") {\n\t\t\t\tresult = true;\n\t\t\t\tchildsArr.forEach(function(item) {\n\t\t\t\t\tif (!item(obj)) {\n\t\t\t\t\t\tresult = false;\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t} else {\n\t\t\t\tresult = false;\n\t\t\t\tchildsArr.forEach(function(item) {\n\t\t\t\t\tif (item(obj)) {\n\t\t\t\t\t\tresult = true;\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t}\n\t\t\treturn result;\n\t\t};\n\t}\n};\n\nwebix.protoUI(qb, sort, sql, webix.ui.layout, webix.EventSystem);","function _buttonCreate(label, click, type) {\n\treturn {\n\t\tview:\"button\",\n\t\tvalue:label,\n\t\talign: \"right\",\n\t\twidth:120,\n\t\ttype,\n\t\tclick\n\t};\n}\n\nwebix.ui.datafilter.queryBuilder = webix.extend({\n\tgetValue(node) {\n\t\tlet master = webix.$$(node._comp_id);\n\t\treturn master.getValue();\n\t},\n\tsetValue(node, value) {\n\t\tlet master = webix.$$(node._comp_id);\n\t\tmaster.setValue(value);\n\t},\n\trefresh(master, node, value) {\n\t\tmaster.registerFilter(node, value, this);\n\t\tnode._comp_id = master._qb.config.id;\n\t\tlet qb = webix.$$(node._comp_id).getParentView();\n\n\t\tthis.setValue(node, value);\n\t\twebix.event(node, \"click\", () => this._filterShow(node, qb));\n\t},\n\trender(master, config) {\n\t\tconst locale = webix.i18n.querybuilder;\n\t\t\n\t\tconfig.css = \"webix_ss_filter\";\n\n\t\tlet filter;\n\t\tconfig.prepare = () => { filter = master._qb.getFilterHelper(); };\n\t\tconfig.compare = (v, i, o) => filter(o);\n\t\t\n\t\tlet qb = {\n\t\t\tview: \"querybuilder\"\n\t\t};\n\t\tif (config.queryConfig)\n\t\t\twebix.extend(qb, config.queryConfig);\n\n\t\tlet popupView;\n\t\tlet buttonSave = _buttonCreate(locale.filter, () => {\n\t\t\tif(master._qb) {\n\t\t\t\tlet helper = master._qb.getFilterHelper();\n\t\t\t\tmaster.filter(helper);\n\t\t\t\tpopupView.hide();\n\t\t\t}\n\t\t}, \"form\");\n\t\tlet buttonCancel = _buttonCreate(locale.cancel, () => {\n\t\t\tpopupView.hide();\n\t\t});\n\n\t\tlet body = {margin:5, rows:[qb, {cols:[ buttonSave, buttonCancel, {} ]}]};\n\t\tif(config.sorting) {\n\t\t\tbody.rows.push(_buttonCreate(locale.sort, () => {\n\t\t\t\tif(master._qb) {\n\t\t\t\t\tmaster.sort(master._qb.getSortingHelper());\n\t\t\t\t\tpopupView.hide();\n\t\t\t\t}\n\t\t\t}));\n\t\t}\n\n\t\tlet popup = {\n\t\t\tview:\"popup\",\n\t\t\twidth: 900,\n\t\t\tbody\n\t\t};\n\n\t\tif(config.popupConfig){\n\t\t\twebix.extend(popup, config.popupConfig, true);\n\t\t}\n\n\t\tpopupView = webix.ui(popup);\n\t\tmaster._qb = popupView.getBody().getChildViews()[0];\n\t\tmaster.attachEvent(\"onDestruct\", () => {\n\t\t\tpopupView.destructor();\n\t\t});\n\n\t\treturn \"<div class=\\\"webix_qb_filter\\\"><i class=\\\"webix_qb_filter_icon\\\" aria-hidden=\\\"true\\\"></i></div>\"+(config.label||\"\");\n\t},\n\t_filterShow(node, qb) {\n\t\tqb.show(node.querySelector(\".webix_qb_filter\"));\n\t}\n}, webix.EventSystem);\n"],"names":["locale","or","and","delete_rule","add_rule","add_group","less","less_or_equal","greater","greater_or_equal","between","not_between","begins_with","not_begins_with","contains","not_contains","ends_with","not_ends_with","is_empty","is_not_empty","equal","not_equal","is_null","is_not_null","default_option","cancel","filter","sort","sortby","asc","desc","setLocale","name","lang","webix","i18n","locales","querybuilder","en","fr","protoUI","defaults","padding","margin","borderless","value","$init","config","$view","className","keyoptions","fields","elements","this","_selectConfig","body","data","template","view","type","css","width","inputWidth","label","click","_this","_getParentQuery","_deleteRow","columnMode","rows","push","gravity","cols","options","hidden","minWidth","maxWidth","inputMaxWidth","inputPadding","on","onChange","_this2","_onChange","_inputConfig","input","_this3","min","max","moveTitle","title","obj","v","getValue","state","rule","setValue","_silent","key","select","_adjustVisible","_getTopQuery","callEvent","field","getList","getItem","_updateRuleField","_updateValueField","_fillRules","filters","a","importData","oldrule","show","hide","editor","removeView","addView","queryView","getFilterHelper","fn","ui","form","EventSystem","_init_sorting","sorting","innerHTML","_sortby","container","childNodes","suggest","align","labelWidth","_callChangeMethod","_sortorder","_sortSelect","id","_getSortingValues","sortBy","attachEvent","destructor","sortAs","_setSortingValues","list","clearAll","parse","getSortingHelper","values","split","map","by","as","DataStore","prototype","obj1","obj2","order","i","length","sorter","b","text","range","str","c","lastIndexOf","indexOf","any","sql","sqlDateFormat","Date","dateToStr","sqlOperators","op","sep","mod","no_val","toSQL","code","_getSqlString","_placeValues","index","replace","nested","rules","join","glue","toUpperCase","_convertValueToSql","el","format","operator","Array","isArray","start","end","qb","filtering","maxLevel","add","DataCollection","$ready","unshift","_setLayout","levelIndicator","$id","onClick","webix_qb_and","_updateGlue","webix_qb_or","minHeight","webix_qb_add_rule","_addRule","webix_qb_add_group","_addGroup","height","cols_setter","mode","refresh","_addRow","layout","kids","getChildViews","$$","parent","withRow","newView","filtes","now","$getSize","dx","dy","call","_setRules","forEach","eachLine","cb","cells","line","query","reconstruct","focus","childsArr","sub","result","item","_buttonCreate","datafilter","queryBuilder","extend","node","_comp_id","master","registerFilter","_qb","getParentView","event","_filterShow","render","prepare","compare","o","popupView","queryConfig","helper","popup","popupConfig","getBody","querySelector"],"mappings":"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"}